define(["plugins/text","util/hogan"],function(text,templateEngine){function finishLoad(name,content,onLoad,config){cache[name]=content,onLoad(content)}function load(id,req,callback,config){id in cache?callback(cache[id]):text.get(req.toUrl(id),function(text){var content=templateEngine.compile(text);finishLoad(id,content,callback,config)})}function write(pluginName,moduleName,write,config){if(moduleName in cache){var text=cache[moduleName].text,fn=templateEngine.compile(text,{asString:!0});write.asModule(pluginName+"!"+moduleName,'define(["util/hogan-render"], function(h){ var t = "";return new h.Template( '+fn+" );"+"});\n")}}var cache={};return{load:load,write:write}})